-- JackHub v3 - Animated GUI + Horizontal Tabs + Attack Button
-- Sol created this for Jack

repeat task.wait() until game:IsLoaded()

-- ========================
-- CONFIG
-- ========================
local Config = {
    GuiName = "JackHubGUI_v3",
    ButtonImageId = "103173399598412",
    WindowTitle = "Jack Hub ðŸ’Ž",
    WindowSubTitle = "Script vip xá»‹n nháº¥t tá»« Jack",
    Theme = "Aqua",
    WindowWidth = 640,
    WindowHeight = 380,
    TabHeight = 46,
    AnimationTime = 0.28,
    BackdropMaxTransparency = 0.6,
    TopBarIconSize = 20
}

-- ========================
-- HELPERS
-- ========================
local TweenService=game:GetService("TweenService")
local CoreGui=game:GetService("CoreGui")
local UserInputService=game:GetService("UserInputService")
local Players=game:GetService("Players")

local function mk(parent,class,props)
    local obj=Instance.new(class)
    if props then for k,v in pairs(props) do if type(k)=="string" then obj[k]=v end end end
    obj.Parent=parent
    return obj
end

local function tween(obj,props,time,style,dir)
    style=style or Enum.EasingStyle.Quad
    dir=dir or Enum.EasingDirection.Out
    return TweenService:Create(obj,TweenInfo.new(time or Config.AnimationTime,style,dir),props)
end

-- ========================
-- CLEANUP OLD GUI
-- ========================
if CoreGui:FindFirstChild(Config.GuiName) then CoreGui[Config.GuiName]:Destroy() end

-- ========================
-- MAIN SCREENGUI
-- ========================
local ScreenGui=mk(CoreGui,"ScreenGui",{Name=Config.GuiName,ResetOnSpawn=false,ZIndexBehavior=Enum.ZIndexBehavior.Sibling})

local Backdrop=mk(ScreenGui,"Frame",{Name="Backdrop",BackgroundColor3=Color3.fromRGB(0,0,0),BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=true,ZIndex=2})

local Window=mk(ScreenGui,"Frame",{Name="MainWindow",AnchorPoint=Vector2.new(0.5,0.5),Size=UDim2.new(0,Config.WindowWidth,0,Config.WindowHeight),Position=UDim2.new(1.2,0,0.5,0),BackgroundColor3=Color3.fromRGB(18,24,30),BackgroundTransparency=0,ZIndex=5})
mk(Window,"UICorner",{CornerRadius=UDim.new(0,12)})

-- TitleBar
local TitleBar=mk(Window,"Frame",{Name="TitleBar",BackgroundTransparency=1,Size=UDim2.new(1,0,0,54),Position=UDim2.new(0,0,0,0)})
local TitleLabel=mk(TitleBar,"TextLabel",{Name="TitleLabel",BackgroundTransparency=1,Position=UDim2.new(0.02,0,0.14,0),Size=UDim2.new(0.6,0,0.72,0),Text=Config.WindowTitle,Font=Enum.Font.GothamBold,TextSize=20,TextColor3=Color3.fromRGB(255,100,0),TextXAlignment=Enum.TextXAlignment.Left})
local SubTitleLabel=mk(TitleBar,"TextLabel",{Name="SubTitleLabel",BackgroundTransparency=1,Position=UDim2.new(0.02,0,0.54,0),Size=UDim2.new(0.6,0,0.4,0),Text=Config.WindowSubTitle,Font=Enum.Font.Gotham,TextSize=12,TextColor3=Color3.fromRGB(155,220,255),TextXAlignment=Enum.TextXAlignment.Left})

local CloseBtn=mk(TitleBar,"TextButton",{Name="CloseBtn",BackgroundTransparency=0.2,BackgroundColor3=Color3.fromRGB(50,50,60),Position=UDim2.new(0.94,0,0.14,0),Size=UDim2.new(0,30,0,30),Text="X",Font=Enum.Font.GothamBold,TextSize=16,TextColor3=Color3.fromRGB(230,230,230)})
mk(CloseBtn,"UICorner",{CornerRadius=UDim.new(0,6)})

-- Drag window
local dragging,dragInput,dragStart,startPos
TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType==Enum.UserInputType.MouseButton1 then
        dragging=true
        dragStart=input.Position
        startPos=Window.Position
        input.Changed:Connect(function()
            if input.UserInputState==Enum.UserInputState.End then dragging=false end
        end)
    end
end)
TitleBar.InputChanged:Connect(function(input)
    if input.UserInputType==Enum.UserInputType.MouseMovement then dragInput=input end
end)
UserInputService.InputChanged:Connect(function(input)
    if input==dragInput and dragging then
        local delta=input.Position-dragStart
        Window.Position=UDim2.new(startPos.X.Scale,startPos.X.Offset+delta.X,startPos.Y.Scale,startPos.Y.Offset+delta.Y)
    end
end)

-- Tabs
local TabsBar=mk(Window,"Frame",{Name="TabsBar",BackgroundTransparency=1,Position=UDim2.new(0,0,0.13,0),Size=UDim2.new(1,0,0,Config.TabHeight)})
local TabsUIList=mk(TabsBar,"UIListLayout",{Padding=UDim.new(0,6),FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Left,SortOrder=Enum.SortOrder.LayoutOrder})
TabsUIList.Parent=TabsBar

local ContentContainer=mk(Window,"Frame",{Name="ContentContainer",BackgroundTransparency=1,Position=UDim2.new(0,12,0.13+(Config.TabHeight/Config.WindowHeight),0),Size=UDim2.new(1,-24,1,-(54+12+Config.TabHeight))})

local function createTabButton(name,iconText)
    local btn=mk(TabsBar,"TextButton",{Name="Tab_"..name,BackgroundColor3=Color3.fromRGB(30,36,45),BackgroundTransparency=0,Size=UDim2.new(0,110,0,Config.TabHeight),Text="",AutoButtonColor=true})
    mk(btn,"UICorner",{CornerRadius=UDim.new(0,8)})
    local icon=mk(btn,"TextLabel",{Name="Icon",BackgroundTransparency=1,Position=UDim2.new(0.06,0,0.12,0),Size=UDim2.new(0,Config.TopBarIconSize,0,Config.TopBarIconSize),Text=iconText or "â€¢",Font=Enum.Font.GothamBold,TextSize=14,TextColor3=Color3.fromRGB(155,210,255)})
    local label=mk(btn,"TextLabel",{Name="Label",BackgroundTransparency=1,Position=UDim2.new(0.28,0,0,0),Size=UDim2.new(0.66,0,1,0),Text=name,Font=Enum.Font.Gotham,TextSize=14,TextColor3=Color3.fromRGB(155,210,255),TextXAlignment=Enum.TextXAlignment.Left})
    return btn
end

local function createContentFrame(name)
    local fr=mk(ContentContainer,"Frame",{Name="Content_"..name,BackgroundTransparency=1,Size=UDim2.new(1,0,1,0),Visible=false})
    mk(fr,"UIListLayout",{Padding=UDim.new(0,8),FillDirection=Enum.FillDirection.Vertical,VerticalAlignment=Enum.VerticalAlignment.Top})
    return fr
end

local function createFuncButton(parent,title,desc,callback)
    local btn=mk(parent,"TextButton",{Name=title,BackgroundColor3=Color3.fromRGB(36,44,56),Size=UDim2.new(1,0,0,44),Text="",AutoButtonColor=true})
    mk(btn,"UICorner",{CornerRadius=UDim.new(0,8)})
    local t=mk(btn,"TextLabel",{Name="Title",BackgroundTransparency=1,Position=UDim2.new(0.03,0,0,0),Size=UDim2.new(0.6,0,1,0),Text=title,Font=Enum.Font.GothamBold,TextSize=16,TextColor3=Color3.fromRGB(220,220,255),TextXAlignment=Enum.TextXAlignment.Left})
    local d=mk(btn,"TextLabel",{Name="Desc",BackgroundTransparency=1,Position=UDim2.new(0.03,0,0.5,0),Size=UDim2.new(0.95,0,0.5,0),Text=desc or "",Font=Enum.Font.Gotham,TextSize=12,TextColor3=Color3.fromRGB(170,170,190),TextXAlignment=Enum.TextXAlignment.Left})
    btn.MouseButton1Click:Connect(function()
        local ok,err=pcall(callback)
        if not ok then warn("Button callback error for",title,err) end
    end)
    return btn
end

-- Tabs & Content
local tabNames={{id="Skill",icon="S"}}
local contentFrames={}
local tabButtons={}
for i,tinfo in ipairs(tabNames) do
    local btn=createTabButton(tinfo.id,tinfo.icon)
    btn.LayoutOrder=i
    tabButtons[tinfo.id]=btn
    local fr=createContentFrame(tinfo.id)
    contentFrames[tinfo.id]=fr
end

local currentTab=nil
local function showTab(name)
    if currentTab==name then return end
    if currentTab and contentFrames[currentTab] then contentFrames[currentTab].Visible=false end
    if contentFrames[name] then contentFrames[name].Visible=true end
    currentTab=name
end

for name,btn in pairs(tabButtons) do
    btn.MouseButton1Click:Connect(function() showTab(name) end)
end

-- ========================
-- SKILL TAB: Attack Button + Crosshair
-- ========================
local SkillFrame=contentFrames["Skill"]

-- Crosshair
local crosshair=mk(SkillFrame,"Frame",{Size=UDim2.new(0,24,0,24),Position=UDim2.new(0.5,-12,0.5,-12),BackgroundColor3=Color3.fromRGB(255,255,255)})
mk(crosshair,"UICorner",{CornerRadius=UDim.new(1,0)})
crosshair.Visible=false
local crosshairOn=false
local CrossBtn=createFuncButton(SkillFrame,"Crosshair","Báº­t/táº¯t tÃ¢m chuáº©n giá»¯a mÃ n hÃ¬nh",function()
    crosshairOn=not crosshairOn
    crosshair.Visible=crosshairOn
end)

-- Attack Button
local attackEnabled=false
local AttackBtn=createFuncButton(SkillFrame,"Attack Button","áº¤n má»™t láº§n Ä‘á»ƒ Ä‘Ã¡nh váº­t thá»ƒ trÆ°á»›c tÃ¢m chuáº©n",function()
    if attackEnabled then
        local plr=Players.LocalPlayer
        if plr and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local hrp=plr.Character.HumanoidRootPart
            local rayOrigin=hrp.Position
            local rayDirection=hrp.CFrame.LookVector*5
            local raycastParams=RaycastParams.new()
            raycastParams.FilterDescendantsInstances={plr.Character}
            raycastParams.FilterType=Enum.RaycastFilterType.Blacklist
            local result=workspace:Raycast(rayOrigin,rayDirection,raycastParams)
            if result and result.Instance then
                local hitPart=result.Instance
                local hitEffect=Instance.new("Part")
                hitEffect.Size=Vector3.new(0.5,0.5,0.5)
                hitEffect.Position=hitPart.Position
                hitEffect.Anchored=true
                hitEffect.CanCollide=false
                hitEffect.Color=Color3.fromRGB(255,0,0)
                hitEffect.Material=Enum.Material.Neon
                hitEffect.Parent=workspace
                game:GetService("Debris"):AddItem(hitEffect,0.2)
                local hum=hitPart.Parent:FindFirstChildWhichIsA("Humanoid")
                if hum then hum:TakeDamage(10) end
            end
        end
    end
end)

local AttackToggle=createFuncButton(SkillFrame,"Attack Button ON/OFF","Báº­t/táº¯t Attack Button",function()
    attackEnabled=not attackEnabled
end)

-- ========================
-- OPEN/CLOSE MENU
-- ========================
local OpenBtn=mk(ScreenGui,"ImageButton",{Name="OpenMenuButton",BackgroundColor3=Color3.fromRGB(0,0,0),BackgroundTransparency=0.25,BorderSizePixel=0,Position=UDim2.new(0.06,0,0.12,0),Size=UDim2.new(0,48,0,48),Image=("http://www.roblox.com/asset/?id="..tostring(Config.ButtonImageId)),AutoButtonColor=true,ZIndex=6})
mk(OpenBtn,"UICorner",{CornerRadius=UDim.new(1,10)})

local function openVisual()
    Backdrop.Visible=true
    tween(Backdrop,{BackgroundTransparency=Config.BackdropMaxTransparency},Config.AnimationTime):Play()
    tween(Window,{Position=UDim2.new(0.5,0,0.5,0)},Config.AnimationTime):Play()
end
local function closeVisual()
    tween(Backdrop,{BackgroundTransparency=1},Config.AnimationTime):Play()
    tween(Window,{Position=UDim2.new(1.2,0,0.5,0)},Config.AnimationTime):Play()
end

local menuOpen=false
local function toggleMenu()
    if not menuOpen then openVisual() menuOpen=true else closeVisual() menuOpen=false end
end
OpenBtn.MouseButton1Click:Connect(toggleMenu)
CloseBtn.MouseButton1Click:Connect(toggleMenu)
Backdrop.InputBegan:Connect(function(input)
    if input.UserInputType==Enum.UserInputType.MouseButton1 and menuOpen then toggleMenu() end
end)
UserInputService.InputBegan:Connect(function(input,gpe)
    if gpe then return end
    if input.KeyCode==Enum.KeyCode.End then toggleMenu() end
end)

showTab("Skill")
print("JackHub v3 loaded. Attack Button + Crosshair ready.")