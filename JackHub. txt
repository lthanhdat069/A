-- Jack Hub - Attack Button & Crosshair only
repeat task.wait() until game:IsLoaded()

local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

local LocalPlayer = Players.LocalPlayer

-- =========================
-- CONFIG
-- =========================
local Config = {
    GuiName = "JackHubGUI_Attack",
    WindowTitle = "Jack Hub üíé",
    WindowSubTitle = "Attack & Crosshair Demo",
    ThemeColor = Color3.fromRGB(0, 170, 255), -- Aqua
    WindowWidth = 480,
    WindowHeight = 280,
    TabHeight = 40,
    AnimationTime = 0.25
}

-- =========================
-- UTILS
-- =========================
local function mk(parent, class, props)
    local obj = Instance.new(class)
    if props then for k,v in pairs(props) do obj[k] = v end end
    obj.Parent = parent
    return obj
end

local function tween(obj, props, time)
    return TweenService:Create(obj, TweenInfo.new(time or Config.AnimationTime, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), props)
end

-- =========================
-- CLEANUP
-- =========================
if CoreGui:FindFirstChild(Config.GuiName) then
    CoreGui[Config.GuiName]:Destroy()
end

-- =========================
-- SCREEN GUI
-- =========================
local ScreenGui = mk(CoreGui, "ScreenGui", {
    Name = Config.GuiName,
    ResetOnSpawn = false
})

-- Backdrop
local Backdrop = mk(ScreenGui, "Frame", {
    BackgroundColor3 = Color3.fromRGB(0,0,0),
    BackgroundTransparency = 1,
    Size = UDim2.new(1,0,1,0),
    ZIndex = 2,
    Visible = true
})

-- Main Window
local Window = mk(ScreenGui, "Frame", {
    Name = "MainWindow",
    Size = UDim2.new(0, Config.WindowWidth, 0, Config.WindowHeight),
    Position = UDim2.new(1.2, 0, 0.5, 0),
    AnchorPoint = Vector2.new(0.5,0.5),
    BackgroundColor3 = Color3.fromRGB(20,25,30),
    ZIndex = 5
})
mk(Window, "UICorner", {CornerRadius = UDim.new(0,12)})

-- Title
local Title = mk(Window, "TextLabel", {
    Text = Config.WindowTitle,
    Font = Enum.Font.GothamBold,
    TextSize = 18,
    TextColor3 = Config.ThemeColor,
    BackgroundTransparency = 1,
    Position = UDim2.new(0.03,0,0.05,0),
    Size = UDim2.new(0.9,0,0.2,0),
    TextXAlignment = Enum.TextXAlignment.Left
})
local SubTitle = mk(Window, "TextLabel", {
    Text = Config.WindowSubTitle,
    Font = Enum.Font.Gotham,
    TextSize = 12,
    TextColor3 = Color3.fromRGB(180,180,200),
    BackgroundTransparency = 1,
    Position = UDim2.new(0.03,0,0.25,0),
    Size = UDim2.new(0.9,0,0.2,0),
    TextXAlignment = Enum.TextXAlignment.Left
})

-- Close Button
local CloseBtn = mk(Window, "TextButton", {
    Text = "X",
    Font = Enum.Font.GothamBold,
    TextSize = 16,
    TextColor3 = Color3.fromRGB(230,230,230),
    BackgroundColor3 = Color3.fromRGB(50,50,60),
    Position = UDim2.new(0.92,0,0.05,0),
    Size = UDim2.new(0,30,0,30)
})
mk(CloseBtn, "UICorner", {CornerRadius = UDim.new(0,6)})

-- Toggle Window
local MenuOpen = false
local function openMenu()
    tween(Backdrop,{BackgroundTransparency=0.5},Config.AnimationTime):Play()
    tween(Window,{Position=UDim2.new(0.5,0,0.5,0)},Config.AnimationTime):Play()
    MenuOpen = true
end
local function closeMenu()
    tween(Backdrop,{BackgroundTransparency=1},Config.AnimationTime):Play()
    tween(Window,{Position=UDim2.new(1.2,0,0.5,0)},Config.AnimationTime):Play()
    MenuOpen = false
end
CloseBtn.MouseButton1Click:Connect(function()
    closeMenu()
end)
Backdrop.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        if MenuOpen then closeMenu() end
    end
end)
UserInputService.InputBegan:Connect(function(input,gpe)
    if not gpe and input.KeyCode==Enum.KeyCode.End then
        if MenuOpen then closeMenu() else openMenu() end
    end
end)

-- =========================
-- ATTACK BUTTON
-- =========================
local AttackActive = true
local AttackBtn = mk(ScreenGui, "TextButton", {
    Name = "AttackButton",
    Size = UDim2.new(0,60,0,60),
    Position = UDim2.new(0.8,0,0.8,0),
    BackgroundColor3 = Color3.fromRGB(40,40,50),
    Text = "",
    AutoButtonColor = true
})
mk(AttackBtn,"UICorner",{CornerRadius=UDim.new(0,8)})
local SwordIcon = mk(AttackBtn,"TextLabel",{
    Text = "üó°Ô∏è",
    Font=Enum.Font.GothamBold,
    TextSize=30,
    TextColor3=Config.ThemeColor,
    BackgroundTransparency=1,
    Size=UDim2.new(1,0,1,0),
    Position=UDim2.new(0,0,0,0)
})

local function attack()
    -- Simulate 1 tap at center (pseudo code, replace with game-specific attack)
    local mouse = LocalPlayer:GetMouse()
    local target = mouse.Target
    if target then
        -- can insert game-specific hit logic here
        warn("Attack executed at target:", target:GetFullName())
    else
        warn("No target in center")
    end
end

AttackBtn.MouseButton1Click:Connect(function()
    if AttackActive then
        attack()
    end
end)

-- On/Off toggle (example: press F)
UserInputService.InputBegan:Connect(function(input,gpe)
    if gpe then return end
    if input.KeyCode==Enum.KeyCode.F then
        AttackActive = not AttackActive
        AttackBtn.BackgroundColor3 = AttackActive and Color3.fromRGB(40,40,50) or Color3.fromRGB(80,40,40)
    end
end)

-- =========================
-- CROSSHAIR
-- =========================
local CrosshairActive = true
local Crosshair = mk(ScreenGui, "Frame", {
    Name = "Crosshair",
    Size = UDim2.new(0,16,0,16),
    Position = UDim2.new(0.5,-8,0.5,-8),
    BackgroundColor3 = Config.ThemeColor,
})
mk(Crosshair,"UICorner",{CornerRadius=UDim.new(1,4)})

UserInputService.InputBegan:Connect(function(input,gpe)
    if gpe then return end
    if input.KeyCode==Enum.KeyCode.G then
        CrosshairActive = not CrosshairActive
        Crosshair.Visible = CrosshairActive
    end
end)

print("Jack Hub - Attack & Crosshair loaded ‚úÖ")