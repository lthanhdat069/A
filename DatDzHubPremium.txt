-- Dat Dz üíß RPG Hub ‚Äî Aqua Violet Edition (Final safe-for-sharing)
-- 2 tabs ngang, avatar toggle, intro 3s, glow chill, buttons copy loadstring(...)() commands
-- IMPORTANT: Buttons will COPY the exact loadstring(...)() commands for you to paste into Delta and run.

repeat task.wait() until game:IsLoaded()

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local StarterGui = game:GetService("StarterGui")
local SoundService = game:GetService("SoundService")

local player = Players.LocalPlayer

local function notify(title, text, dur)
	dur = dur or 3
	pcall(function()
		StarterGui:SetCore("SendNotification", {Title = title, Text = text, Duration = dur})
	end)
end

local function trySetClipboard(text)
	local ok = pcall(function() setclipboard(text) end)
	return ok
end

-- Helper: create modal to show command for manual copy (if clipboard unsupported)
local function showModal(parentFrame, text)
	local modal = Instance.new("Frame", parentFrame)
	modal.Size = UDim2.new(0.9,0,0,80)
	modal.Position = UDim2.new(0.05,0,0,220)
	modal.BackgroundColor3 = Color3.fromRGB(25,20,35)
	modal.BorderSizePixel = 0
	Instance.new("UICorner", modal).CornerRadius = UDim.new(0,8)

	local lab = Instance.new("TextLabel", modal)
	lab.Size = UDim2.new(1,-20,1,-20)
	lab.Position = UDim2.new(0,10,0,10)
	lab.BackgroundTransparency = 1
	lab.TextColor3 = Color3.fromRGB(220,220,220)
	lab.TextWrapped = true
	lab.Font = Enum.Font.Code
	lab.Text = text
	lab.TextXAlignment = Enum.TextXAlignment.Left
	lab.TextYAlignment = Enum.TextYAlignment.Top
	lab.TextSize = 14

	task.delay(12, function()
		if modal and modal.Parent then modal:Destroy() end
	end)
end

-- Build GUI
local function CreateDatDzHub(parent)
	-- cleanup previous
	if parent:FindFirstChild("DatDzHub_UI") then parent.DatDzHub_UI:Destroy() end

	local screen = Instance.new("ScreenGui")
	screen.Name = "DatDzHub_UI"
	screen.ResetOnSpawn = false
	screen.Parent = parent
	screen.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	-- Intro
	local introFrame = Instance.new("Frame", screen)
	introFrame.Size = UDim2.new(1,0,1,0)
	introFrame.BackgroundColor3 = Color3.fromRGB(12,8,18)
	introFrame.BackgroundTransparency = 1

	local pulse = Instance.new("ImageLabel", introFrame)
	pulse.AnchorPoint = Vector2.new(0.5,0.5)
	pulse.Position = UDim2.new(0.5,0,0.45,0)
	pulse.Size = UDim2.new(0.6,0,0.35,0)
	pulse.BackgroundTransparency = 1
	pulse.Image = "rbxassetid://4996891970"
	pulse.ImageColor3 = Color3.fromRGB(140,90,255)
	pulse.ImageTransparency = 0.95

	local logo = Instance.new("TextLabel", introFrame)
	logo.AnchorPoint = Vector2.new(0.5,0.5)
	logo.Position = UDim2.new(0.5,0,0.45,0)
	logo.BackgroundTransparency = 1
	logo.Text = "Dat Dz üíß RPG Hub"
	logo.Font = Enum.Font.GothamBold
	logo.TextSize = 44
	logo.TextColor3 = Color3.fromRGB(150,180,255)
	logo.TextTransparency = 1
	logo.TextScaled = true
	local uistroke = Instance.new("UIStroke", logo); uistroke.Color = Color3.fromRGB(170,130,255); uistroke.Thickness = 1.4

	local sub = Instance.new("TextLabel", introFrame)
	sub.AnchorPoint = Vector2.new(0.5,0)
	sub.Position = UDim2.new(0.5,0,0.55,0)
	sub.BackgroundTransparency = 1
	sub.Text = "Delta Stable v4.5 ‚Äî Aqua Violet Chill"
	sub.Font = Enum.Font.Gotham
	sub.TextSize = 18
	sub.TextColor3 = Color3.fromRGB(185,140,255)
	sub.TextTransparency = 1
	sub.TextScaled = true

	local introSound = Instance.new("Sound")
	introSound.SoundId = "rbxassetid://74697049223758"
	introSound.Volume = 0.9
	introSound.Looped = false
	introSound.Parent = SoundService
	pcall(function() introSound:Play() end)

	-- animate intro (3s)
	TweenService:Create(introFrame, TweenInfo.new(0.5), {BackgroundTransparency = 0.25}):Play()
	TweenService:Create(logo, TweenInfo.new(0.9, Enum.EasingStyle.Quad), {TextTransparency = 0}):Play()
	TweenService:Create(sub, TweenInfo.new(1.1, Enum.EasingStyle.Quad), {TextTransparency = 0}):Play()
	local pulseTween = TweenService:Create(pulse, TweenInfo.new(0.9, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, -1, true), {ImageTransparency = 0.7})
	pulseTween:Play()
	task.delay(3, function()
		TweenService:Create(logo, TweenInfo.new(0.9), {TextTransparency = 1}):Play()
		TweenService:Create(sub, TweenInfo.new(0.9), {TextTransparency = 1}):Play()
		TweenService:Create(introFrame, TweenInfo.new(0.9), {BackgroundTransparency = 1}):Play()
		task.wait(0.95)
		if introFrame and introFrame.Parent then introFrame:Destroy() end
	end)

	-- Main container
	local container = Instance.new("Frame", screen)
	container.Name = "DatDzContainer"
	container.AnchorPoint = Vector2.new(0.5,0.5)
	container.Position = UDim2.new(0.5,0,0.5,0)
	container.Size = UDim2.new(0,520,0,360)
	container.BackgroundColor3 = Color3.fromRGB(22,18,32)
	container.BackgroundTransparency = 0.12
	container.Visible = false
	Instance.new("UICorner", container).CornerRadius = UDim.new(0,14)

	-- soft glow image
	local glow = Instance.new("ImageLabel", container)
	glow.Size = UDim2.new(1.12,0,1.12,0)
	glow.Position = UDim2.new(-0.06,0,-0.06,0)
	glow.BackgroundTransparency = 1
	glow.Image = "rbxassetid://4996891970"
	glow.ImageColor3 = Color3.fromRGB(140,90,255)
	glow.ImageTransparency = 0.92
	glow.ZIndex = -1

	-- header
	local header = Instance.new("Frame", container)
	header.Size = UDim2.new(1,0,0,56)
	header.BackgroundColor3 = Color3.fromRGB(36,28,56)
	Instance.new("UICorner", header).CornerRadius = UDim.new(0,12)
	local title = Instance.new("TextLabel", header)
	title.Size = UDim2.new(1,0,1,0)
	title.BackgroundTransparency = 1
	title.Font = Enum.Font.GothamBold
	title.Text = "Dat Dz üíß RPG Hub"
	title.TextColor3 = Color3.fromRGB(185,150,255)
	title.TextScaled = true

	-- tabs bar (top horizontal)
	local tabsBar = Instance.new("Frame", container)
	tabsBar.Size = UDim2.new(1,-40,0,44)
	tabsBar.Position = UDim2.new(0,20,0,66)
	tabsBar.BackgroundTransparency = 1

	local function MakeTabLabel(txt, posX)
		local btn = Instance.new("TextButton", tabsBar)
		btn.Size = UDim2.new(0,220,1,0)
		btn.Position = UDim2.new(0, (posX-1)*220, 0, 0)
		btn.Text = txt
		btn.Font = Enum.Font.GothamBold
		btn.TextColor3 = Color3.fromRGB(210,200,255)
		btn.BackgroundColor3 = Color3.fromRGB(34,25,50)
		btn.AutoButtonColor = true
		btn.TextScaled = true
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0,8)
		return btn
	end

	local tabInputBtn = MakeTabLabel("üß© Nh·∫≠p Script",1)
	local tabPopularBtn = MakeTabLabel("‚ö° Script Ph·ªï Bi·∫øn",2)

	-- content frames
	local content = Instance.new("Frame", container)
	content.Size = UDim2.new(1,-40,1,-140)
	content.Position = UDim2.new(0,20,0,120)
	content.BackgroundTransparency = 1

	local pageInput = Instance.new("Frame", content); pageInput.Size = UDim2.new(1,0,1,0); pageInput.BackgroundTransparency = 1; pageInput.Visible = true
	local pagePopular = Instance.new("Frame", content); pagePopular.Size = UDim2.new(1,0,1,0); pagePopular.BackgroundTransparency = 1; pagePopular.Visible = false

	-- Input page elements
	local inputBox = Instance.new("TextBox", pageInput)
	inputBox.Size = UDim2.new(1, -20, 0, 160)
	inputBox.Position = UDim2.new(0,10,0,0)
	inputBox.PlaceholderText = "D√°n code ho·∫∑c d√°n link raw v√†o ƒë√¢y..."
	inputBox.TextWrapped = true
	inputBox.ClearTextOnFocus = false
	inputBox.Font = Enum.Font.Code
	inputBox.TextColor3 = Color3.fromRGB(210,200,255)
	inputBox.BackgroundColor3 = Color3.fromRGB(30,22,40)
	Instance.new("UICorner", inputBox).CornerRadius = UDim.new(0,8)

	local runBtn = Instance.new("TextButton", pageInput)
	runBtn.Size = UDim2.new(0,160,0,36)
	runBtn.Position = UDim2.new(0.5, -80, 0, 170)
	runBtn.Text = "‚ñ∂Ô∏è Chu·∫©n b·ªã l·ªánh (Copy -> Paste Delta)"
	runBtn.Font = Enum.Font.GothamBold
	runBtn.TextColor3 = Color3.fromRGB(255,255,255)
	runBtn.BackgroundColor3 = Color3.fromRGB(110,70,200)
	Instance.new("UICorner", runBtn).CornerRadius = UDim.new(0,8)

	runBtn.MouseButton1Click:Connect(function()
		local txt = inputBox.Text or ""
		if not txt:match("%S") then
			notify("‚ö†Ô∏è Dat Dz", "B·∫°n ch∆∞a nh·∫≠p script!", 2); return
		end

		-- If it's a URL: prepare loadstring(game:HttpGet("URL"))() command
		if txt:match("^https?://") then
			local cmd = 'loadstring(game:HttpGet("' .. txt .. '"))()'
			local ok = trySetClipboard(cmd)
			if ok then
				notify("‚úÖ L·ªánh copy s·∫µn", "M·ªü Delta ‚Üí paste ‚Üí Execute.", 4)
			else
				notify("‚ÑπÔ∏è Hi·ªÉn th·ªã l·ªánh", "Kh√¥ng copy t·ª± ƒë·ªông. L·ªánh hi·ªÉn th·ªã ƒë·ªÉ b·∫°n sao ch√©p.", 4)
				showModal(pageInput, cmd)
			end
		else
			-- If it's code: wrap into loadstring long-string
			local safe_block = "[==[" .. txt .. "]==]"
			local cmd = "loadstring(" .. safe_block .. ")()"
			local ok = trySetClipboard(cmd)
			if ok then
				notify("‚úÖ Code ƒë√£ ƒë√≥ng g√≥i", "M·ªü Delta ‚Üí paste ‚Üí Execute.", 4)
			else
				notify("‚ÑπÔ∏è Hi·ªÉn th·ªã l·ªánh", "Kh√¥ng copy t·ª± ƒë·ªông. L·ªánh hi·ªÉn th·ªã ƒë·ªÉ b·∫°n sao ch√©p.", 4)
				showModal(pageInput, cmd)
			end
		end
	end)

	-- Popular page: 4 buttons that prepare exact run command (copy or show)
	local popularList = {
		{title = "üí® Fly V3", runcmd = 'loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()'},
		{title = "üëë Infinite Yield", runcmd = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Infinite-Yield-43437"))()'},
		{title = "üï∂Ô∏è Invisible Man", runcmd = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Awesome-Invisible-man-21074"))()'},
		{title = "üö∂‚Äç‚ôÇÔ∏è ƒêi Tr√™n Kh√¥ng", runcmd = 'loadstring(game:HttpGet("https://pastefy.app/Qc1ZIUwO/raw", true))()'},
	}

	for i,info in ipairs(popularList) do
		local b = Instance.new("TextButton", pagePopular)
		b.Size = UDim2.new(1, -20, 0, 44)
		b.Position = UDim2.new(0, 10, 0, (i-1) * 54)
		b.BackgroundColor3 = Color3.fromRGB(40,28,56)
		b.TextColor3 = Color3.fromRGB(235,225,255)
		b.Font = Enum.Font.GothamBold
		b.Text = info.title
		Instance.new("UICorner", b).CornerRadius = UDim.new(0,8)

		b.MouseButton1Click:Connect(function()
			local cmd = info.runcmd
			local ok = trySetClipboard(cmd)
			if ok then
				notify("‚úÖ L·ªánh ƒë√£ copy", info.title .. " - paste v√†o Delta v√† Execute", 3)
			else
				notify("‚ÑπÔ∏è Hi·ªÉn th·ªã l·ªánh", "Kh√¥ng copy t·ª± ƒë·ªông. L·ªánh s·∫Ω hi·ªÉn th·ªã ƒë·ªÉ b·∫°n sao ch√©p.", 4)
				showModal(pagePopular, cmd)
			end
		end)
	end

	-- tabs switch
	tabInputBtn.MouseButton1Click:Connect(function()
		pageInput.Visible = true
		pagePopular.Visible = false
	end)
	tabPopularBtn.MouseButton1Click:Connect(function()
		pageInput.Visible = false
		pagePopular.Visible = true
	end)

	-- watermark
	local watermark = Instance.new("TextLabel", screen)
	watermark.AnchorPoint = Vector2.new(0.5,0)
	watermark.Position = UDim2.new(0.5, 0, 0.92, 0)
	watermark.Size = UDim2.new(0, 260, 0, 22)
	watermark.BackgroundTransparency = 1
	watermark.Font = Enum.Font.Gotham
	watermark.Text = "Made by Dat Dz üíß"
	watermark.TextColor3 = Color3.fromRGB(160,130,220)
	watermark.TextTransparency = 0.3
	watermark.TextScaled = true

	local wr = Instance.new("TextLabel", screen)
	wr.Size = UDim2.new(0,160,0,20)
	wr.Position = UDim2.new(0.78,0,0.02,0)
	wr.BackgroundTransparency = 1
	wr.Font = Enum.Font.GothamBold
	wr.Text = "Dat Dz üíß RPG Hub"
	wr.TextColor3 = Color3.fromRGB(170,130,255)
	wr.TextTransparency = 0.25
	wr.TextScaled = true

	-- avatar toggle
	local avatar = Instance.new("ImageButton", screen)
	avatar.Name = "DatDz_Avatar"
	avatar.Size = UDim2.new(0,56,0,56)
	avatar.Position = UDim2.new(0.03,0,0.12,0)
	avatar.BackgroundColor3 = Color3.fromRGB(30,22,40)
	avatar.Image = "rbxassetid://103173399598412"
	avatar.AutoButtonColor = true
	Instance.new("UICorner", avatar).CornerRadius = UDim.new(1,10)
	local stroke = Instance.new("UIStroke", avatar); stroke.Color = Color3.fromRGB(170,130,255); stroke.Thickness = 1.2

	-- toggle with fade+zoom
	local isOpen = false
	avatar.MouseButton1Click:Connect(function()
		isOpen = not isOpen
		if isOpen then
			container.Visible = true
			container.Size = UDim2.new(0,420,0,300)
			container.Position = UDim2.new(0.5,0,0.48,0)
			container.BackgroundTransparency = 1
			TweenService:Create(container, TweenInfo.new(0.42, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
				Size = UDim2.new(0,520,0,360),
				BackgroundTransparency = 0.12,
				Position = UDim2.new(0.5,0,0.5,0)
			}):Play()
		else
			TweenService:Create(container, TweenInfo.new(0.35, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
				Size = UDim2.new(0,420,0,300),
				BackgroundTransparency = 1,
				Position = UDim2.new(0.5,0,0.48,0)
			}):Play()
			task.delay(0.36, function()
				if container and container.Parent then container.Visible = false end
			end)
		end
	end)

	avatar.ZIndex = 1001
	container.ZIndex = 1000
	wr.ZIndex = 1002
	watermark.ZIndex = 1002

	return screen
end

-- ensure gui
local function ensureGui()
	local pg = player:FindFirstChild("PlayerGui") or player:WaitForChild("PlayerGui")
	CreateDatDzHub(pg)
end

ensureGui()
player.CharacterAdded:Connect(function()
	task.wait(0.8)
	ensureGui()
end)

-- End of script